# 1、语法基础

### 1.1、编译

##### 1.1.1、编译阶段

1、分词/词法解析：将字符串分割为有意义的代码块（词法单元）；
2、解析/语法分析：将词法单元转换成抽象语法树（ast）；

##### 1.1.2、编译特点

1、语法分析及生产阶段优化：去除冗余元素，提高执行效率；
2、编译过程优化：如JIT及延迟编译、重编译等；

### 1.2、作用域链

##### 1.2.1、VO

##### 1.2.2、AO

### 1.3、浮点数

##### 1.3.1、表示

1、符号位：S，长度为1，0表示正数，1表示负数；
2、指数位：E，长度为11，基准数-1023；
3、尾数位：M，长度为52，超出时自动进一舍零，缺少时自动补零，二进制整数存储时均省略整数部分1，故该位有53位；
4、表达式：V=（-1）^S * 2 ^ （E - 1023） * （M + 1）；

##### 1.3.2、精度处理

1、toFixed：先将数字取精度后，再有parseFloat转成数字；
2、转成整数：先乘整数变成整数，进行计算后再取小数；
3、字符串处理：利用字符串运算；

### 1.4、类型转换

##### 1.4.1、==

1、null==undefined：返回true；
2、存在number：将其他转为number再比较；
3、存在boolean：将boolean转为number再比较；
4、存在object：将object转为基础类型再比较；

##### 1.4.2、toNumber

1、undefined：NaN;
2、null：0；
3、boolean：true=1、false=0；
4、string：能解析就解析，不能就NaN；

### 1.5、var、let、const

1、没有变量提升：var存在提升（创建、初始化），let/const仅创建提升（暂时性死区，不允许使用），function也存在提升（创建、初始化、赋值）；
2、分配内存地址：var会在栈区预分配内存地址（执行时再存储对应变量或者变量地址），let/const不会预分配内存地址（且会检测是否已经存在，存在则报错）；